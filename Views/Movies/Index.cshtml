@model IEnumerable<MVC_Identity_Movie.Models.Movie>

@{
    ViewData["Title"] = "Index";
}


<h2 style="text-align:center">Lists of all the Movies</h2>

<div class="mb-5">
<p>
    <a href="@Url.Action("Create")" class="btn btn-primary">Add a new Movie</a>
</p>
</div>

<div class="mb-5">
<form asp-controller="Movies" asp-action="Index">
        <div class="form-outline">
    <input id="movieSearch" type="text" name="searchString" onkeyup="searchMovie()"  placeholder="Search..." />
        <button onclick="searchMovie()" type="button" value="Search" class="btn btn-primary">
            <i class="fas fa-search"></i>
        </button>
    </div>
</form>
</div>

<div id="movieSearchDiv">
</div>
<script>
    window.onload = function () {
        searchMovie();
    };
    function searchMovie() {
        let value = $('#movieSearch').val();
        $.ajax({
            url: '/Movies/Search',
            type: 'GET',
            data: { 'search': value},
            dataType: 'text',
            success: function (data) {
                console.log("succes"+data);
               $('#movieSearchDiv').html(data);
            }
        })
    }
</script>

